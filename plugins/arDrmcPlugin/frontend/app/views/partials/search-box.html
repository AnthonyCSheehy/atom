<div id="search-form-wrapper">

  <form name="form" ng-submit="submit()">

    <input type="text" ng-model="query" placeholder="Search"/>

    <div ng-show="showRealm" id="search-realm" class="search-popover">

      <div ng-if="results != undefined">

        <section ng-if="results.totals.aips > 0">
          <ul>
            <li ng-repeat="(uuid, aip) in results.aips">
              <a ui-sref="aips.view({ uuid: uuid })" ng-bind-html="aip.name"></a>
            </li>
            <li class="showall">
              <a ui-sref="search.entity({ entity: 'aips' })">all matching AIPs</a>
            </li>
          </ul>
        </section>

        <section ng-if="results.totals.artworks > 0">
          <ul>
            <li ng-repeat="(id, work) in results.artworks">
              <a ui-sref="works.view({ id: id })" ng-bind-html="work.title"></a>
            </li>
            <li class="showall">
              <a ui-sref="search.entity({ entity: 'works' })">all matching Artworks</a>
            </li>
          </ul>
        </section>

        <section ng-if="results.totals.components > 0">
          <ul>
            <li ng-repeat="(id, comp) in results.components">
              <a ng-bind-html="comp.title"></a>
            </li>
            <li class="showall">
              <a ui-sref="search.entity({ entity: 'components' })">all matching Components</a>
            </li>
          </ul>
        </section>

      </div>

      <div>
        <label>
          <input type="radio" ng-model="realm" value="all"/>
          All
        </label>
      </div>

      <div>
        <label>
          <input type="radio" ng-model="realm" value="aips"/>
          AIPs
        </label>
      </div>

      <div>
        <label>
          <input type="radio" ng-model="realm" value="works"/>
          Artwork records
        </label>
      </div>

      <div>
        <label>
          <input type="radio" ng-model="realm" value="components"/>
          Components
        </label>
      </div>

      <div>
        <label>
          <input type="radio" ng-model="realm" value="technology-records"/>
          Supporting technology records
        </label>
      </div>

      <div>
        <label>
          <input type="radio" ng-model="realm" value="files"/>
          Files
        </label>
      </div>

    </div>

  </form>

</div>
