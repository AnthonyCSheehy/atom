<div ng-class="{ cb: true, content: true, 'cb-fullscreen': isFullscreen, 'cb-maximized': isMaximized }">

  <section class="cb-inner">

    <!-- Header -->
    <div class="cb-menu menu-list">

      <!-- Heading -->
      <ul class="menu-list-left inline">
        <li><h2>Context Browser</h2></li>
      </ul>

      <!-- Menu -->
      <ul class="menu-list-right nav nav-pills">

        <!-- More -->
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="">More<b class="caret"></b></a>
          <ul id="metaDrop1" class="dropdown-menu">
            <li><a class="move" href="">Move</a></li>
            <li><a class="add_child" href="">Add child</a></li>
            <li><a class="duplicate" href="">Duplicate</a></li>
            <li><a class="add_relationship" href="">Add Relationship</a></li>
            <li><a class="delete" href="">Delete</a></li>
          </ul>
        </li>

        <!-- Toogle relationships -->
        <li ng-class="{ active: areRelationshipsHidden }">
          <a class="hide_relationships" ng-click="hideRelationships()">
            {{ areRelationshipsHidden ? 'Show relationships' : 'Hide relationships' }}
          </a>
        </li>

        <!-- Fullscreen -->
        <li ng-class="{ active: isFullscreen }">
          <a ng-click="toggleFullscreenMode()" class="fullscreen">
            {{ isFullscreen ? 'Exit fullscreen' : 'Fullscreen' }}
          </a>
        </li>

        <!-- Maximize -->
        <li ng-if="!isFullscreen">
          <a ng-click="toggleMaximizedMode()" ng-class="{ maximize: !isMaximized, minimize: isMaximized }">
            {{ isMaximized ? 'Minimize' : 'Maximize' }}
          </a>
        </li>

        <!-- List relationships (.list_relationships) -->

        <!-- Expand all -->
        <li class="dropdown">
          <a class="expand_all dropdown-toggle" data-toggle="dropdown" href="">Expand all</a>
        </li>

      </ul>

    </div>

    <!-- Body -->
    <div class="cb-body">

      <!-- Context browser -->
      <div class="cb-container">

        <!-- Container -->
        <div class="svg-container"/>

      </div>

      <!-- Sidebar -->
      <div class="cb-sidebar">

        <div class="cb-sidebar-top">

          <!-- Bulk edit -->
          <div ng-if="hasNodesSelected()" class="cb-sidebar-basic-box cb-list-active-nodes">
            <h3>Bulk edit ({{ getNumberOfSelectedNodes() }} items)</h3>
            <div class="node-metadata">
              <p>
                <span ng-repeat="node in activeNodes">{{ node.data.title }}<br /></span>
              </p>
            </div>
            <div class="node-actions">
              <a href class="btn btn-small btn-delete icon-remove" ng-click="deleteNodes('selected')"><i>Delete</i></a>
              <a href class="btn btn-small btn-move icon-move" ng-click="moveNodes('selected')"><i>Move</i></a>
              <a href class="btn btn-small" ng-click="">Cancel</a>
            </div>
          </div>

          <!-- Single node detail -->
          <div ng-if="hasNodeSelected()" class="cb-sidebar-basic-box">
            <h3 class="node-level-{{ lastSelection.data.level }}">{{ lastSelection.data.title }}</h3>
            <div class="node-metadata">
              <p>Identifier: {{ lastSelection.data.id }} (WIP)</p>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras nisl tortor, pretium eu egestas a, dapibus ut eros. Fusce ultrices felis dui, quis lacinia magna pellentesque non. Nullam et ornare elit. Aenean condimentum aliquam rhoncus. Nulla vitae vestibulum lectus.</p>
            </div>
            <div class="node-actions">
              <a href class="btn btn-small btn-add icon-plus" ng-click="addChildNode(lastSelection.id)"><i>Add child</i></a>
              <a href class="btn btn-small btn-edit icon-edit" ng-click="editNode(lastSelection.id)"><i>Edit node</i></a>
              <a href class="btn btn-small btn-delete icon-remove" ng-click="deleteNodes(lastSelection.id)"><i>Delete</i></a>
              <a href class="btn btn-small btn-move icon-move" ng-click="moveNodes(lastSelection.id)"><i>Move</i></a>
            </div>
          </div>

        </div>

        <div class="cb-sidebar-bottom">
          <!-- Legend -->
          <div class="cb-legend">
            <ul class="nav nav-stacked">
              <li class="legend-work">Work</li>
              <li class="legend-description">Description</li>
              <li class="legend-physical-component">Physical component</li>
              <li class="legend-digital-object">Digital object</li>
            </ul>
          </div>
        </div>

      </div>

    </div>

  </section>

</div>
